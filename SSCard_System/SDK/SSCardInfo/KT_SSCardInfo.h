#ifndef KT_SSCARDINFO_H
#define KT_SSCARDINFO_H
#include <windows.h>
#include "KT_Define.h"

#define DLL_PUBLIC __declspec(dllexport)

#ifdef __cplusplus
EXTERN_C_START
#endif

//pOutInfo返回: 09--有参数为空   08--通讯故障

/**
 * @brief 初始化动态库接口
 * @param[in]  user		接口用户
 * @param[in]  pwd		接口密码
 * @param[in]  city		城市代码
 * @param[out] pOutInfo	返回结果,00成功,01失败
 * @return 0成功,非0失败
 */
DLL_PUBLIC int initCardInfo(const char* user, const char* pwd, const char* city, char* pOutInfo);

/**
 * @brief 查询人员数据
 * @param[in/out] info	需要name/cardID,返回的个人信息,旧社保卡号等
 * @param[out] pOutInfo	返回结果,00成功,01失败
 * @return 0成功,非0失败
 */
DLL_PUBLIC int queryPersonInfo(SSCardInfo& info,char *pOutInfo);
/**
 * @brief 制卡进度查询
 * @param[in/out] info	需要name/cardID,返回的个人信息,制卡进度等
* @param[out] pOutInfo	返回结果,00成功,01失败
 * @return 0成功,非0失败
 */
DLL_PUBLIC int queryCardProgress(SSCardInfo& info, char* pOutInfo);
/**
 * @brief 卡状态查询（卡鉴权）
 * @param[in] info	需要name/cardID/cardNum(旧卡号)
* @param[out] pOutInfo	返回:OK卡状态正常,其他中文描述
 * @return 0成功,非0失败
 */
DLL_PUBLIC int queryCardStatus(SSCardInfo& info, char *pOutInfo);
/**
 * @brief 正式挂失
 * @param[in] info	需要name/cardID/cardNum(旧卡号)
 * @param[out] pOutInfo	返回结果,00成功,01已挂失
 * @return 0成功,非0失败
 */
DLL_PUBLIC int reportLostCard(SSCardInfo& info, char *pOutInfo);
/**
 * @brief 解除挂失
 * @param[in] info	需要name/cardID/cardNum(旧卡号)
 * @param[out] pOutInfo	返回结果,00成功,01已挂失
 * @return 0成功,非0失败
 */
DLL_PUBLIC int cancelLostCard(SSCardInfo& info, char* pOutInfo);
/**
 * @brief 查询交费登记状态
 * @param[in] info	需要name/cardID
 * @param[out] pOutInfo	返回结果,00成功,其他失败
 * @return 0成功,非0失败
 */
DLL_PUBLIC int queryPayment(SSCardInfo& info, char* pOutInfo);
/**
 * @brief 注册交费登记
 * @param[in] info	需要name/cardID
 * @param[out] pOutInfo	返回结果,00成功,01已交费
 * @return 0成功,非0失败
 */
DLL_PUBLIC int registerPayment(SSCardInfo& info, char* pOutInfo);
/**
 * @brief 撤销缴费登记
 * @param[in] info	传入的人员信息
 * @param[out] pOutInfo	返回结果,00成功
 * @return 0成功,非0失败
 */
DLL_PUBLIC int cancelPayment(SSCardInfo& info, char* pOutInfo);
/**
 * @brief 申请补换卡
 * @param[in] info	需要name/cardID/CardNum/OrganID(经办机构)/BankCode/Mobile
 * @param[out] pOutInfo	返回结果,00成功
 * @return 0成功,非0失败
 */
DLL_PUBLIC int applyCardReplacement(SSCardInfo& info, char *pOutInfo );
/**
 * @brief 撤销申请补换卡
 * @param[in] info	需要name/cardID
 * @param[out] pOutInfo	返回结果,00成功
 * @return 0成功,非0失败
 */
DLL_PUBLIC int cancelCardReplacement(SSCardInfo& info, char* pOutInfo);
/**
 * @brief 即制卡标注
 * @param[in] info	需要name/cardID
 * @param[out] pOutInfo	返回结果,00成功,01已标注
 * @return 0成功,非0失败
 */
DLL_PUBLIC int markCard(SSCardInfo& info, char* pOutInfo);
 /**
 * @brief 撤销标注
 * @param[in] info	需要name/cardID
 * @param[out] pOutInfo	返回结果,00成功,01已经是未标注
 * @return 0成功,非0失败
 */
DLL_PUBLIC int cancelMarkCard(SSCardInfo& info, char* pOutInfo);
/**
* @brief 获取制卡数据
* @param[in] info	需要name/cardID/TransType(申请类型)/SSQX(所属社区)/BankCode/Card(卡商)
*					传出cardNum(新卡号)/PCH(批次号)/sex/nation/birthday/releasedate/validdate/photo
* @param[out] pOutInfo	返回结果,00成功
* @return 0成功,非0失败
*/
DLL_PUBLIC int getCardData(SSCardInfo& info, char* pOutInfo);
/**
* @brief 制卡回盘
* @param[in] info	传入的人员信息
* @param[out] pOutInfo	返回结果,00成功
* @return 0成功,非0失败
*/
DLL_PUBLIC int returnCardData(SSCardInfo& info, char* pOutInfo);
/**
* @brief 领卡启用
* @param[in] info	传入的人员信息
* @param[out] pOutInfo	返回结果,00成功
* @return 0成功,非0失败
*/
DLL_PUBLIC int enableCard(SSCardInfo& info, char* pOutInfo);
/**
* @brief 获取CA
* @param[in] info	传入的人员信息
* @param[out] pOutInfo	返回结果,00成功
* @return 0成功,非0失败
*/
DLL_PUBLIC int getCA(const char* user, const char* pwd, const char* city, const char* cardID, const char* cardNum, const char* QMGY, const char* name, const char* SF, CAInfo &info, char* pOutInfo);

#ifdef __cplusplus
EXTERN_C_END
#endif

#endif